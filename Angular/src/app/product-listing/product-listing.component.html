<div class="container">
    <div class="row">
        <div class="col-12 col-lg-12 col-sm-12 col-md-12" style="margin-top:4vw">
            <span class="shopbywhat">Shop
                By {{category}}</span>

        </div>


        <div class="col-lg-12 col-sm-12 col-md-12 col-12 filter-sec-max">
            <p-dropdown class="filter-prod" autoWidth="false" appendTo="body" [options]="products"
                (onChange)="filterProducts()" [(ngModel)]="selectedProduct" optionLabel="name" placeholder={{value}} />
            &nbsp;
            <p-dropdown autoWidth="false" [style]="{'borderRadius':'20px','borderColor':'gray'}" appendTo="body"
                [options]="phndatas" (onChange)="filterProducts()" [(ngModel)]="selectedphncon" optionLabel="name"
                placeholder="Filter by Phone Condition" />
            &nbsp;
            <button style="padding: 2vh;border-radius: 20px;
            background-color: #cccccc;" class="btn-sort pi pi-sort-amount-down-alt"
                (click)="issort?sortProductsDesc():sortProductsAsc()"></button>
        </div>




    </div>


    <hr class="filter-sec-max" style="margin-top: 5vh;
    
    margin-right: 1vw;
    margin-left: 1vw;">
</div>






<section class="text-gray-600 body-font content-max-sec" style="margin-top: 3vh;">
    <div style="position: relative;bottom: 0rem;" class="whole-listing container  px-5 py-24 mx-auto">

        <div class="flex flex-wrap -m-4">
            @for(products of showproductlst;track showproductlst.name){
            <div class="lg:w-1/4 md:w-1/2 p-4 w-full">

                <a routerLink="/productpg" [queryParams]="{'product_id':products.product_id}" class="productlink">
                    <div class="badge" [style]="{
                        'background-color': products.PhoneCondition === 'Brand New' ? 'white' : 'black',
                        'color': products.PhoneCondition === 'Brand New' ? 'black' : 'white'
                       }">
                        {{products.PhoneCondition}}</div>
                    <div class="product-tumb">
                        <img [src]="products.image" alt="">
                    </div>
                    <div class="product-details">
                        <span class="product-catagory">{{products.SubCategory}}</span>
                        <h4 class="product-name"> {{products["name "]}}</h4>
                        <p>{{products.desc}}</p>
                        <div class="product-bottom-details">
                            <div class="product-price"><small>{{formatToIndianCurrency(products["mprice
                                    "])}}</small>{{formatToIndianCurrency(products["oprice "])}}
                            </div>

                        </div>
                    </div>
                </a>

            </div>
            }


        </div>
    </div>

</section>

<section class="text-gray-600 body-font content-min-sec" style="margin-top: 3vh;">
    <div style="position: relative;bottom: 0rem;padding-bottom: 60px;" class="container">

        <div class="row">
            @for(products of showproductlst;track showproductlst.name){
            <div class="col-6" style="padding:2px;">

                <a routerLink="/productpg" [queryParams]="{'product_id':products.product_id}" class="productlink">
                    <div class="badge" [style]="{
                        'background-color': products.PhoneCondition === 'Brand New' ? 'white' : 'black',
                        'color': products.PhoneCondition === 'Brand New' ? 'black' : 'white'
                       }">
                        {{products.PhoneCondition}}</div>
                    <div class="product-tumb">

                        <img [src]="products.image" alt="">
                    </div>
                    <div class="product-details">
                        <span class="product-catagory">{{products.SubCategory}}</span>
                        <h4 class="product-name"> {{products["name "]}}</h4>
                        <p class="product-desc">{{products.desc}}</p>
                        <div class="product-bottom-details">
                            <div class="product-price"><small>{{formatToIndianCurrency(products["mprice
                                    "])}}</small>{{formatToIndianCurrency(products["oprice "])}}
                            </div>

                        </div>
                    </div>
                </a>

            </div>
            }


        </div>
    </div>

</section>




<section class="sortbysection">
    <div class="filter-option">
        <ul class="list">
            <li class="sortby">SORT BY</li>
            <span>

                <li (click)="sortby('low')" class="line ">

                    <button class=" default" id=""><svg style="display: inline;" width="24" height="24"
                            viewBox="0 0 24 24" class="SortModalIcon">
                            <g fill="none" fill-rule="evenodd">
                                <path d="M0 0h24v24H0z" opacity="0.05"></path>
                                <path
                                    d="M4 6.215h4.962v2.43H4.505L4.13 9.858h4.764a3.05 3.05 0 01-.827 1.539 2.99 2.99 0 01-2.022.895l-1.361-.003a.304.304 0 00-.214.519l6.717 6.779 1.697-.004-6.107-6.16a4.193 4.193 0 002.14-1.167 4.256 4.256 0 001.198-2.398h2.474l.376-1.215h-2.799v-2.43h3.496V5H4v1.215zm12.389 10.028h1.337l-1.337 1.354v-1.354zm-.818 3.309c.23.09.488.04.663-.127l3.312-3.326a.567.567 0 000-.828.627.627 0 00-.574-.152H16.39v-5.043a.571.571 0 00-.58-.585.587.587 0 00-.587.597v8.935c0 .237.12.439.35.529z"
                                    fill="#282C3F"></path>
                            </g>
                        </svg><span class="sortByValues low"> Price: High to Low</span></button>


                </li>
                <li (click)="sortby('high')" class="line">
                    <button class=" default    " id=""><svg style="display: inline;" width="24" height="24"
                            viewBox="0 0 24 24" class="SortModalIcon">
                            <g fill="none" fill-rule="evenodd">
                                <path d="M0 0h24v24H0z" opacity="0.05"></path>
                                <path
                                    d="M4 6.136h4.637v2.272H4.472l-.351 1.135h4.45a2.855 2.855 0 01-.772 1.44c-.51.514-1.177.81-1.888.836H5.91l-1.272-.002c-.25-.001-.377.305-.2.484l6.276 6.338 1.586-.002-5.706-5.76a3.92 3.92 0 002-1.092 3.984 3.984 0 001.119-2.242h2.311l.352-1.135H9.76V6.136h3.267V5H4v1.136zm12.626.733l1.249 1.265h-1.25V6.869zm-1.09-1.333v8.35c0 .3.232.557.548.557a.534.534 0 00.542-.547V9.184h2.414a.586.586 0 00.537-.143.53.53 0 00-.001-.773L16.48 5.161a.585.585 0 00-.62-.12.508.508 0 00-.326.495z"
                                    fill="#282C3F"></path>
                            </g>
                        </svg><span class="sortByValues high"> Price: Low to High </span></button>

                </li>

            </span>
        </ul>
    </div>
</section>

<section class="filterbysection">
    <div class="filter-option">

        <ul class="list">
            <li class="sortby">FILTER BY</li>
            <span>
                <h1 class="filterby">Filter By Products</h1>
                @for(p of productdatas[category];track productdatas[category].name){

                @if(p.name!=="All Products"){
                <li (click)="sortby(p.name)" style="padding: 3%;padding-left: 10%;">

                    <button id=""><span class="sortByValues filterproduct {{p.name}}"> {{p.name}}</span></button>
                </li>
                }



                }



            </span>
            <span>
                <h1 class="filterby">Filter By Phone Condition</h1>
                <li (click)="sortby('preown')" class="line">

                    <button><span class="sortByValues preown"> Phone Condition:
                            Pre-Owned</span></button>


                </li>
                <li (click)="sortby('brandnew')" class="line">
                    <button class=" default    " id="">
                        <span class="sortByValues brandnew"> Phone Condition: Brand New </span></button>

                </li>

            </span>
        </ul>

    </div>
</section>

<footer class="filter-sec-min">

    <span (click)="showwhat('sort')" style="display: flex;">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <g fill="none" fill-rule="evenodd">
                <path d="M0 0h24v24H0z" opacity="0.05"></path>
                <path fill="#282C3F"
                    d="M7.445 7.48V5.672L5.665 7.48h1.78zm1.09-4.42c.304.12.465.39.465.706v16.437a.784.784 0 01-.783.797.762.762 0 01-.772-.781V8.982H4.003a.832.832 0 01-.765-.204.759.759 0 01.002-1.105L7.652 3.23a.832.832 0 01.882-.17zm8.02 15.269l1.78-1.81h-1.78v1.81zm4.207-3.107a.76.76 0 01-.002 1.106l-4.412 4.442a.832.832 0 01-.882.17c-.305-.12-.466-.39-.466-.706V3.797c0-.432.332-.797.783-.797.45 0 .772.35.772.781v11.237h3.442a.833.833 0 01.765.204z">
                </path>
            </g>
        </svg>
        <button class="filter"> Sort</button>
    </span>
    <div class="vl"></div>
    <span (click)="showwhat('filter')" style="display: flex;">
        <svg width="24" height="24" viewBox="0 0 24 24" class="result-icon">
            <g fill="none" fill-rule="evenodd">
                <path d="M0 0h24v24H0z" opacity="0.05"></path>
                <path fill="#282C3F"
                    d="M3.749 7.508a.75.75 0 010-1.5h3.138a2.247 2.247 0 014.243 0h9.121a.75.75 0 010 1.5h-9.126a2.248 2.248 0 01-4.232 0H3.749zm13.373 9h3.129a.75.75 0 010 1.5h-3.135a2.247 2.247 0 01-4.231 0H3.749a.75.75 0 010-1.5h9.13a2.248 2.248 0 014.243 0z">
                </path>
            </g>
        </svg>
        <button class="filter"> Filter </button>
    </span>




</footer>